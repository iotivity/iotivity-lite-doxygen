<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IoTivity-Lite: oc_introspection.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IoTivity-Lite
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('oc__introspection_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">oc_introspection.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>functions for introspection  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;wchar.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3da37c001988a2d74d3b6170236b1be4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oc__introspection_8h.html#a3da37c001988a2d74d3b6170236b1be4">oc_set_introspection_data</a> (size_t device, uint8_t *IDD, size_t IDD_size)</td></tr>
<tr class="memdesc:a3da37c001988a2d74d3b6170236b1be4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the IDD by passing in an array containing the data.  <a href="oc__introspection_8h.html#a3da37c001988a2d74d3b6170236b1be4">More...</a><br /></td></tr>
<tr class="separator:a3da37c001988a2d74d3b6170236b1be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>functions for introspection </p>
<p>The IDD information is served up as encoded CBOR content (read as is). If the size of the IDD data is to big for the buffer, then an internal error is returned. Note that some build options can only serve up introspection data for one device and can not be used if multiple devices are implemented.</p>
<p>There are multiple mechanisms for adding introspection data to a server.</p>
<p>Add OC_IDD_API (recommended) to the compilers preprocessor macro defines. Then set the introspection data for each device using oc_set_introspection_data function.</p>
<p>If OC_IDD_API was added to the preprocessor and the server does not call oc_set_introspection_data the server will look for the file <code>IDD_&lt;device_index&gt;</code> in the location specified by oc_storage_config.</p>
<p>The final option is to build without OC_IDD_API compiler preprocessor macro define. This is <b>not recommended</b> but is provided for backwards compatibility. The instrospection data is read from the headerfile <code><a class="el" href="server__introspection_8dat_8h.html">server_introspection.dat.h</a></code>. Introspection data can only be added for a single device.</p>
<p>When using the final option the <code>server_introspeciton.dat.h</code> must contain two items:</p><ol type="1">
<li>A macro <code>introspection_data_size</code> that specifies the size of the introspection data in bytes</li>
<li>An array <code>uint8_t introspection_data[]</code> containing the hex data representing the IDD. The header file must be placed in a folder that gets included in the build. </li>
</ol>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3da37c001988a2d74d3b6170236b1be4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da37c001988a2d74d3b6170236b1be4">&#9670;&nbsp;</a></span>oc_set_introspection_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oc_set_introspection_data </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>IDD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>IDD_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the IDD by passing in an array containing the data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>index of the device to which the IDD describes </td></tr>
    <tr><td class="paramname">IDD</td><td>an array of CBOR encoded bytes containing the introspection device data </td></tr>
    <tr><td class="paramname">IDD_size</td><td>the size of the IDD array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="oc__introspection_8h.html">oc_introspection.h</a></li>
    <li class="footer">Generated on Tue Oct 12 2021 09:02:45 for IoTivity-Lite by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
